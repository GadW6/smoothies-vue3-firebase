{"version":3,"sources":["webpack:///./src/views/EditSmoothie.vue?4791","webpack:///./src/views/EditSmoothie.vue","webpack:///./src/views/EditSmoothie.vue?f5f1"],"names":["class","for","smoothie","name","EditSmoothie","type","ingredients","ing","index","key","DeleteIng","AddIng","another","feedback","URI","props","data","methods","this","push","i","splice","ingSet","length","a","put","id","slug","replacement","remove","lower","res","$router","console","log","mounted","get","$props","smoothie_slug","response","msg","render","__scopeId"],"mappings":"gHAAA,W,iLCCOA,MAAM,2B,GAGFA,MAAM,e,EACT,eAAyC,SAAlCC,IAAI,SAAQ,kBAAc,G,GAG9BD,MAAM,mB,GAYNA,MAAM,wB,EACT,eAEC,SAFMC,IAAI,kBAAgB,C,eACxB,uBAAmB,eAAgC,aAAzB,uB,MAS1BD,MAAM,sB,SACUA,MAAM,Y,EACzB,eAES,UAFDA,MAAM,YAAW,mBAEzB,G,uDAlCqC,EAAAE,U,iBAA3C,eAqCM,MArCN,EAqCM,CApCJ,eAA2C,UAAvC,QAAK,eAAG,EAAAA,SAASC,MAAO,aAAU,GACtC,eAkCO,QAlCI,SAAM,8CAAU,EAAAC,aAAA,qBAAY,e,CACrC,eAGM,MAHN,EAGM,CAFJ,E,eACA,eAA0D,SAAnDC,KAAK,OAAOF,KAAK,Q,qDAAiB,EAAAD,SAASC,KAAI,K,mBAAb,EAAAD,SAASC,UAEpD,eAWM,MAXN,EAWM,E,mBAVJ,eASO,2BAPkB,EAAAD,SAASI,aAAW,SAAnCC,EAAKC,G,wBAFf,eASO,QARLR,MAAM,OAECS,IAAKD,G,+BAETD,EAAIJ,MAAO,IACd,kBAEC,KAFEH,MAAM,uBAA4B,QAAK,mBAAE,EAAAU,UAAUF,KACnD,QAAK,oB,QAIZ,eAUM,MAVN,EAUM,CATJ,E,eAGA,eAKE,SAJAH,KAAK,OACLF,KAAK,iBACA,UAAO,6DAAc,EAAAQ,OAAA,qBAAM,uB,qDACvB,EAAAC,QAAO,K,mBAAP,EAAAA,aAGb,eAKM,MALN,EAKM,CAJK,EAAAC,U,iBAAT,eAAsD,IAAtD,EAAsD,eAAf,EAAAA,UAAQ,I,sBAC/C,K,4GAWFC,EAAM,8BAEG,GACbX,KAAM,eACNY,MAAO,CAAC,iBACRC,KAHa,WAIX,MAAO,CACLd,SAAU,KACVU,QAAS,KACTC,SAAU,OAGdI,QAAS,CACPN,OADO,WAEDO,KAAKN,SACPM,KAAKhB,SAASI,YAAYa,KAAK,CAAEhB,KAAMe,KAAKN,UAC5CM,KAAKN,QAAU,KACfM,KAAKL,SAAW,MAEhBK,KAAKL,SAAW,gDAGpBH,UAVO,SAUGU,GACRF,KAAKhB,SAASI,YAAYe,OAAOD,EAAG,IAEhChB,aAbC,WAac,mKACbkB,EAAS,SAAAf,GACTA,EACF,EAAKI,SAEL,EAAKE,SAAW,+CAKpBS,EAAO,EAAKV,WACR,EAAKV,SAASC,MAAQ,EAAKD,SAASI,YAAYiB,OAAS,GAX1C,0CAaG,EAAAC,EAAMC,IAAIX,EAAM,aAAe,EAAKZ,SAASwB,GAAI,CACjEpB,YAAa,EAAKJ,SAASI,YAC3BH,KAAM,EAAKD,SAASC,KACpBwB,KAAM,IAAQ,EAAKzB,SAASC,KAAM,CAChCyB,YAAa,IACbC,OAAQ,iBACRC,OAAO,MAnBI,cAaTC,EAbS,yBAsBRA,EAAIf,KAAKU,GAAK,EAAKM,QAAQb,KAAK,KAAO,MAtB/B,qCAwBfc,QAAQC,IAAR,MAxBe,8DA6BjBC,QApDO,WAoDG,uLAEW,EAAAX,EAAMY,IAC3BtB,EAAE,yBAAsB,EAAKuB,OAAOC,gBAH1B,OAENC,EAFM,OAKZ,EAAKrC,SAAWqC,EAASvB,KALb,4EAOL,CAAEwB,IAAK,uBAAF,eAPA,6D,UC7FlB,EAAOC,OAAS,EAChB,EAAOC,UAAY,kBAEJ","file":"js/EditSmoothie.ef1c9b9b.js","sourcesContent":["export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./EditSmoothie.vue?vue&type=style&index=0&id=f638754c&scoped=true&lang=css\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./EditSmoothie.vue?vue&type=style&index=0&id=f638754c&scoped=true&lang=css\"","<template>\n  <div class=\"edit-smoothie container\" v-if=\"smoothie\">\n    <h2>Edit {{ smoothie.name }} Smoothie:</h2>\n    <form v-on:submit.prevent=\"EditSmoothie\">\n      <div class=\"field title\">\n        <label for=\"title\">Smoothie Title</label>\n        <input type=\"text\" name=\"title\" v-model=\"smoothie.name\" />\n      </div>\n      <div class=\"ingredient-list\">\n        <span\n          class=\"chip\"\n          v-for=\"(ing, index) in smoothie.ingredients\"\n          v-bind:key=\"index\"\n        >\n          {{ ing.name }}\n          <i class=\"close material-icons\" v-on:click=\"DeleteIng(index)\"\n            >close</i\n          >\n        </span>\n      </div>\n      <div class=\"field add-ingredient\">\n        <label for=\"add-ingredient\"\n          >Add an Ingredient: <small>('TAB' to insert)</small></label\n        >\n        <input\n          type=\"text\"\n          name=\"add-ingredient\"\n          v-on:keydown.tab.prevent=\"AddIng\"\n          v-model=\"another\"\n        />\n      </div>\n      <div class=\"field center-align\">\n        <p v-if=\"feedback\" class=\"red-text\">{{ feedback }}</p>\n        <button class=\"btn pink\">\n          EDIT SMOOTHIE\n        </button>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport slugify from \"slugify\";\nimport axios from \"axios\";\nconst URI = \"http://strapi.proxmox:1337/\";\n\nexport default {\n  name: \"EditSmoothie\",\n  props: [\"smoothie_slug\"],\n  data() {\n    return {\n      smoothie: null,\n      another: null,\n      feedback: null\n    };\n  },\n  methods: {\n    AddIng() {\n      if (this.another) {\n        this.smoothie.ingredients.push({ name: this.another });\n        this.another = null;\n        this.feedback = null;\n      } else {\n        this.feedback = \"You must enter a value to edit an ingredient\";\n      }\n    },\n    DeleteIng(i) {\n      this.smoothie.ingredients.splice(i, 1);\n    },\n    async EditSmoothie() {\n      const ingSet = ing => {\n        if (ing) {\n          this.AddIng();\n        } else {\n          this.feedback = \"You must enter a value to add an ingredient\";\n        }\n      };\n\n      // Checking if ingredients are set\n      ingSet(this.another);\n      if (this.smoothie.name && this.smoothie.ingredients.length > 0) {\n        try {\n          const res = await axios.put(URI + \"smoothies/\" + this.smoothie.id, {\n            ingredients: this.smoothie.ingredients,\n            name: this.smoothie.name,\n            slug: slugify(this.smoothie.name, {\n              replacement: \"-\",\n              remove: /[*+~.()'\"!:@]/g,\n              lower: true\n            })\n          });\n          return res.data.id ? this.$router.push(\"/\") : null;\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    }\n  },\n  async mounted() {\n    try {\n      const response = await axios.get(\n        URI + `smoothies/slug/${this.$props.smoothie_slug}`\n      );\n      this.smoothie = response.data;\n    } catch (error) {\n      return { msg: `There was an error: ${error}` };\n    }\n  }\n};\n</script>\n\n<style scoped>\n.edit-smoothie {\n  margin-top: 60px;\n  padding: 20px;\n  max-width: 500px;\n}\n\n.edit-smoothie h2 {\n  font-size: 2em;\n  margin: 20px auto;\n}\n\n.edit-smoothie .field {\n  margin: 20px auto;\n}\n\n.edit-smoothie .field small {\n  font-size: 8px;\n  color: lightgray;\n}\n</style>\n","import { render } from \"./EditSmoothie.vue?vue&type=template&id=f638754c&scoped=true&bindings={\\\"smoothie_slug\\\":\\\"props\\\",\\\"smoothie\\\":\\\"data\\\",\\\"another\\\":\\\"data\\\",\\\"feedback\\\":\\\"data\\\",\\\"AddIng\\\":\\\"options\\\",\\\"DeleteIng\\\":\\\"options\\\",\\\"EditSmoothie\\\":\\\"options\\\"}\"\nimport script from \"./EditSmoothie.vue?vue&type=script&lang=js\"\nexport * from \"./EditSmoothie.vue?vue&type=script&lang=js\"\n\nimport \"./EditSmoothie.vue?vue&type=style&index=0&id=f638754c&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-f638754c\"\n\nexport default script"],"sourceRoot":""}